dict = {}
dict['abecean longfin']=['weakness to frost', 'fortify sneak', 'weakness to poison', 'fortify restoration']
dict['bear claws']=['restore stamina', 'fortify health', 'fortify one-handed', 'damage magicka regen']
dict['bee']=['restore stamina', 'ravage stamina', 'regenerate stamina', 'weakness to shock']
dict['beehive husk']=['resist poison', 'fortify light armor', 'fortify sneak', 'fortify destruction']
dict['bleeding crown']=['weakness to fire', 'fortify block', 'weakness to poison', 'resist magic']
dict['blisterwort']=['damage stamina', 'restore health', 'frenzy', 'fortify smithing']
dict['blue butterfly wing']=['damage stamina', 'damage magicka regen', 'fortify conjuration', 'fortify enchanting']
dict['blue dartwing']=['resist shock', 'restore health', 'fortify pickpocket', 'fear']
dict['blue mountain flower']=['restore health', 'fortify conjuration', 'fortify health', 'damage magicka regen']
dict['bone meal']=['damage stamina', 'fortify conjuration', 'resist fire', 'ravage stamina']
dict['briar heart']=['restore magicka', 'fortify block', 'paralysis', 'fortify magicka']
dict['butterfly wing']=['restore health', 'lingering damage stamina', 'fortify barter', 'damage magicka']
dict['canis root']=['damage stamina', 'fortify marksman', 'fortify one-handed', 'paralysis']
dict['charred skeever hide']=['restore stamina', 'resist poison', 'cure disease', 'restore health']
dict['chaurus eggs']=['weakness to poison', 'fortify stamina', 'damage magicka', 'invisibility']
dict['chaurus hunter antennae']=['damage stamina', 'damage magicka regen', 'fortify conjuration', 'fortify enchanting']
dict['chicken\'s egg']=['resist magic', 'waterbreathing', 'damage magicka regen', 'lingering damage stamina']
dict['creep cluster']=['restore magicka', 'fortify carry weight', 'damage stamina regen', 'weakness to magic']
dict['crimson nirnroot']=['damage health', 'invisibility', 'damage stamina', 'resist magic']
dict['cyrodilic spadetail']=['damage stamina', 'fear', 'fortify restoration', 'ravage health']
dict['daedra heart']=['damage stamina regen', 'damage magicka', 'restore health', 'fear']
dict['deathbell']=['damage health', 'ravage stamina', 'slow', 'weakness to poison']
dict['dragon\'s tongue']=['resist fire', 'fortify barter', 'fortify illusion', 'fortify two-handed']
dict['dwarven oil']=['weakness to magic', 'regenerate magicka', 'fortify illusion', 'restore magicka']
dict['ectoplasm']=['restore magicka', 'fortify destruction', 'fortify magicka', 'damage health']
dict['elves ear']=['restore magicka', 'weakness to frost', 'fortify marksman', 'resist fire']
dict['eye of sabre cat']=['restore stamina', 'damage magicka', 'ravage health', 'restore health']
dict['falmer ear']=['damage health', 'frenzy', 'resist poison', 'fortify lockpicking']
dict['fire salts']=['weakness to frost', 'restore magicka', 'resist fire', 'regenerate magicka']
dict['fly amanita']=['resist fire', 'frenzy', 'fortify two-handed', 'regenerate stamina']
dict['frost mirriam']=['resist frost', 'fortify sneak', 'ravage magicka', 'damage stamina regen']
dict['frost salts']=['weakness to fire', 'resist frost', 'restore magicka', 'fortify conjuration']
dict['garlic']=['resist poison', 'fortify stamina', 'regenerate magicka', 'regenerate health']
dict['giant lichen']=['ravage health', 'weakness to poison', 'weakness to shock', 'restore magicka']
dict['giant\'s toe']=['damage stamina', 'fortify carry weight', 'fortify health', 'damage stamina regen']
dict['glow dust']=['damage magicka', 'fortify destruction', 'damage magicka regen', 'resist shock']
dict['glowing mushroom']=['resist shock', 'fortify destruction', 'fortify smithing', 'fortify health']
dict['grass pod']=['resist poison', 'ravage magicka', 'fortify alteration', 'restore magicka']
dict['hagraven claw']=['resist magic', 'lingering damage magicka', 'fortify enchanting', 'fortify barter']
dict['hagraven feathers']=['damage magicka', 'frenzy', 'fortify conjuration', 'weakness to shock']
dict['hanging moss']=['damage magicka', 'damage magicka regen', 'fortify health', 'fortify one-handed']
dict['hawk beak']=['restore stamina', 'resist frost', 'fortify carry weight', 'resist shock']
dict['hawk feathers']=['cure disease', 'fortify light armor', 'fortify one-handed', 'fortify sneak']
dict['histcarp']=['restore stamina', 'fortify magicka', 'damage stamina regen', 'waterbreathing']
dict['honeycomb']=['restore stamina', 'fortify block', 'fortify light armor', 'ravage stamina']
dict['human flesh']=['damage health', 'paralysis', 'restore magicka', 'fortify sneak']
dict['human heart']=['damage health', 'damage magicka regen', 'damage magicka', 'frenzy']
dict['ice wraith teeth']=['weakness to frost', 'fortify heavy armor', 'invisibility', 'weakness to fire']
dict['imp stool']=['damage health', 'paralysis', 'lingering damage health', 'restore health']
dict['jarrin root']=['damage health', 'damage stamina', 'damage magicka', 'damage magicka regen']
dict['jazbay grapes']=['weakness to magic', 'fortify magicka', 'regenerate magicka', 'ravage health']
dict['juniper berries']=['weakness to fire', 'regenerate health', 'fortify marksman', 'damage stamina regen']
dict['large antlers']=['restore stamina', 'fortify stamina', 'slow', 'damage stamina regen']
dict['lavender']=['resist magic', 'fortify stamina', 'ravage magicka', 'fortify conjuration']
dict['luna moth wing']=['damage magicka', 'fortify light armor', 'regenerate health', 'invisibility']
dict['moon sugar']=['weakness to fire', 'resist frost', 'restore magicka', 'regenerate magicka']
dict['mora tapinella']=['restore magicka', 'lingering damage health', 'regenerate stamina', 'fortify illusion']
dict['mudcrab chitin']=['restore stamina', 'cure disease', 'resist poison', 'resist fire']
dict['niamira\'s rot']=['damage magicka', 'fear', 'fortify lockpicking', 'regenerate health']
dict['nightshade']=['damage health', 'damage magicka regen', 'lingering damage stamina', 'fortify destruction']
dict['nirnroot']=['damage health', 'damage stamina', 'invisibility', 'resist magic']
dict['nordic barnacle']=['damage magicka', 'waterbreathing', 'regenerate health', 'fortify pickpocket']
dict['orange dartwing']=['restore stamina', 'ravage magicka', 'fortify pickpocket', 'lingering damage health']
dict['pearl']=['restore stamina', 'restore magicka', 'fortify block', 'resist shock']
dict['pine thrush egg']=['restore stamina', 'fortify lockpicking', 'weakness to poison', 'resist shock']
dict['powdered mammoth tusk']=['restore stamina', 'weakness to fire', 'fortify sneak', 'fear']
dict['purple mountain flower']=['restore stamina', 'fortify sneak', 'lingering damage magicka', 'resist frost']
dict['red mountain flower']=['restore magicka', 'ravage magicka', 'fortify magicka', 'damage health']
dict['river betty']=['damage health', 'fortify alteration', 'slow', 'fortify carry weight']
dict['rock warbler egg']=['restore health', 'fortify one-handed', 'damage stamina', 'weakness to magic']
dict['sabre cat tooth']=['restore stamina', 'fortify heavy armor', 'fortify smithing', 'weakness to poison']
dict['salt pile']=['weakness to magic', 'fortify restoration', 'slow', 'regenerate magicka']
dict['scaly pholiata']=['weakness to magic', 'fortify illusion', 'regenerate stamina', 'fortify carry weight']
dict['silverside perch']=['restore stamina', 'damage stamina regen', 'ravage health', 'resist frost']
dict['skeever tail']=['damage stamina regen', 'ravage health', 'damage health', 'fortify light armor']
dict['slaughterfish egg']=['resist poison', 'fortify pickpocket', 'lingering damage health', 'fortify stamina']
dict['slaughterfish scales']=['resist frost', 'lingering damage health', 'fortify heavy armor', 'fortify block']
dict['small antlers']=['weakness to poison', 'fortify restoration', 'lingering damage stamina', 'damage health']
dict['small pearl']=['restore stamina', 'fortify one-handed', 'fortify restoration', 'resist frost']
dict['snowberries']=['resist fire', 'fortify enchanting', 'resist frost', 'resist shock']
dict['spider egg']=['damage stamina', 'damage magicka regen', 'fortify lockpicking', 'fortify marksman']
dict['spriggan sap']=['damage magicka regen', 'fortify enchanting', 'fortify smithing', 'fortify alteration']
dict['swamp fungal pod']=['resist shock', 'lingering damage magicka', 'paralysis', 'restore health']
dict['taproot']=['weakness to magic', 'fortify illusion', 'regenerate magicka', 'restore magicka']
dict['thistle branch']=['resist frost', 'ravage stamina', 'resist poison', 'fortify heavy armor']
dict['torchbug thorax']=['restore stamina', 'lingering damage magicka', 'weakness to magic', 'fortify stamina']
dict['troll fat']=['resist poison', 'fortify two-handed', 'frenzy', 'damage health']
dict['tundra cotton']=['resist magic', 'fortify magicka', 'fortify block', 'fortify barter']
dict['vampire dust']=['invisibility', 'regenerate health', 'restore magicka', 'cure disease']
dict['void salts']=['weakness to shock', 'resist magic', 'damage health', 'fortify magicka']
dict['wheat']=['restore health', 'fortify health', 'damage stamina regen', 'lingering damage magicka']
dict['white cap']=['weakness to frost', 'fortify heavy armor', 'restore magicka', 'ravage magicka']
dict['wisp wrappings']=['restore stamina', 'fortify destruction', 'fortify carry weight', 'resist magic']

def findElementNameByKW(str):
    el = ''
    count = 0
    for key in dict:
        if key.startswith(str):
            el = key
            count += 1
    if count == 0:
        raise Exception('DANGER! Element ' + str + ' not found')
    elif count > 1:
        raise Exception('DANGER! Several elements found')
    return el

def findElementsByEffect(str):
    els = []
    count = 0
    for key in dict:
        for eff in dict[key]:
            if eff == str:
                els.append(key)
                count += 1
    if count == 0:
        raise Exception('DANGER! Elements with effect ' + str + ' not found')
    return els

def findMixes(arr, maxels = 2):
    if arr.__len__() == 0:
        return []

    mixes = []
    for el0 in arr[0]:
        for el1 in arr[1]:
            for el2 in arr[2]:
                for el3 in arr[3]:
                    mix = [el0, el1, el2, el3]
                    mix = list(dict.fromkeys(mix))
                    if mix.__len__() <= maxels:
                        mix.sort()
                        if mix not in mixes:
                            mixes.append(mix)

    mixes = sorted(mixes, key=lambda x: x.__len__())
    return mixes

def process(str):
    els = []
    baseName = str
    base = dict[baseName]
    for i in range(0, base.__len__()):
        tmp = findElementsByEffect(base[i])
        tmp.remove(baseName)
        els.append(tmp)

    return [base, els]
